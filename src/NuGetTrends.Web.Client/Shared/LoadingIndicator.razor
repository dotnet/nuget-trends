@inject LoadingState LoadingState
@implements IDisposable

<div class="loading-screen-wrapper" style="display: @(LoadingState.IsLoading ? "block" : "none")">
    <div class="loading-screen-icon">
        <div class="loadchart">
            <div class="loadchart__bar"></div>
            <div class="loadchart__bar"></div>
            <div class="loadchart__bar"></div>
            <div class="loadchart__bar"></div>
            <div class="loadchart__bar"></div>
            <div class="loadchart__ball"></div>
        </div>
    </div>
</div>

@code {
    protected override void OnInitialized()
    {
        LoadingState.OnChange += OnLoadingStateChanged;
    }

    private void OnLoadingStateChanged()
    {
        InvokeAsync(StateHasChanged);
    }

    public void Dispose()
    {
        LoadingState.OnChange -= OnLoadingStateChanged;
    }
}
