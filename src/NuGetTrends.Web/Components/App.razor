<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <base href="/" />
    <title>NuGet Trends</title>
    <meta name="description" content="Check out NuGet packages adoption and what's trending on NuGet." />

    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="NuGet Trends" />
    <meta property="og:title" content="NuGet Trends" />
    <meta property="og:description" content="Check out NuGet packages adoption and what's trending on NuGet." />
    <meta property="og:url" content="https://nugettrends.com" />
    <meta property="og:image" content="https://nugettrends.com/images/banner_social.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:creator" content="@@AsProgrammerr" />
    <meta name="twitter:title" content="NuGet Trends" />
    <meta name="twitter:site" content="@@AsProgrammerr" />
    <meta name="twitter:description" content="Check out NuGet packages adoption and what's trending on NuGet." />
    <meta name="twitter:image" content="https://nugettrends.com/images/banner_social.png" />
    <meta name="twitter:image:width" content="1200" />
    <meta name="twitter:image:height" content="630" />

    <!-- Canonical & image -->
    <link rel="canonical" href="https://nugettrends.com" />
    <link rel="image_src" href="https://nugettrends.com/images/banner_social.png" />

    <!-- Bulma CSS -->
    <link rel="stylesheet" href="lib/bulma@0.9.4/bulma.min.css" />
    <!-- Font Awesome -->
    <link rel="stylesheet" href="lib/font-awesome@4.7.0/css/font-awesome.min.css" />
    <!-- App styles -->
    <link rel="stylesheet" href="css/app.css" />
    <!-- Blazor CSS isolation -->
    <link rel="stylesheet" href="NuGetTrends.Web.styles.css" />
    <!-- Blazored Toast -->
    <link href="_content/Blazored.Toast/Blazored.Toast.bundle.scp.css" rel="stylesheet" />
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="favicon.ico" />

    <HeadOutlet @rendermode="InteractiveWebAssembly" />
</head>

<body class="site">
    <Routes @rendermode="new InteractiveWebAssemblyRenderMode(prerender: true)" />

    <!-- Chart.js -->
    <script src="lib/chart.js@4.4.7/chart.umd.min.js"></script>
    <script src="lib/chartjs-adapter-date-fns@3.0.0/chartjs-adapter-date-fns.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="js/chartInterop.js"></script>
    <script src="js/themeInterop.js"></script>
    <!-- App version (server-rendered, read by Footer via JS interop) -->
    <script>window.__appVersion = "@_appVersion";</script>
    <!-- Blazor WebAssembly -->
    <script src="_framework/blazor.web.js"></script>
</body>

</html>

@code {
    private string _appVersion = "unknown";

    protected override void OnInitialized()
    {
        var assembly = System.Reflection.Assembly.GetExecutingAssembly();
        var informationalVersion = assembly
            .GetCustomAttributes<System.Reflection.AssemblyInformationalVersionAttribute>()
            .FirstOrDefault()?
            .InformationalVersion;

        if (!string.IsNullOrEmpty(informationalVersion))
        {
            var parts = informationalVersion.Split('+');
            _appVersion = parts.Length > 1 ? parts[1] : informationalVersion;
        }
    }
}
